<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>New Year's Eve Party 2025</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <!-- 1. Mobile Theme Color -->
  <meta name="theme-color" content="#020617">
  
  <!-- Prevents iOS/Android from turning the address/phone into blue links automatically -->
  <meta name="format-detection" content="telephone=no, date=no, email=no, address=no">

  <!-- Favicon (Champagne Glass) -->
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>ðŸ¥‚</text></svg>">

  <!-- Social Media Preview Tags -->
  <meta property="og:title" content="New Year's Eve Party 2025">
  <meta property="og:description" content="All That Glitters Is Gold. Join Andrew & Cash to ring in 2026!">
  <meta property="og:image" content="https://cashcon57.github.io/nye-party-2025/preview.jpg">
  <meta property="og:url" content="https://cashcon57.github.io/nye-party-2025/">
  <meta property="og:type" content="website">
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:image" content="https://cashcon57.github.io/nye-party-2025/preview.jpg">

  <!-- Google Fonts: Playfair Display for softer elegance, Inter for readability -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">

  <!-- Confetti Library -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>

  <style>
    :root {
      --bg: #020617; /* Deep midnight */
      /* 2. Glassmorphism Polish - Updated Opacity */
      --card-bg: rgba(15, 23, 42, 0.65); 
      --gold-1: #fcf6ba; /* Pale Champagne */
      --gold-2: #bf953f; /* Classic Gold */
      --gold-3: #b38728; /* Deep Gold */
      --gold-4: #fbf5b7; /* Light Gold */
      --gold-5: #aa771c; /* Bronze/Dark Gold */
      --text-main: #f8fafc;
      --text-muted: #94a3b8;
      --border-gold: rgba(234, 179, 8, 0.35);
      
      /* Updated Display Font */
      --font-display: 'Playfair Display', serif;
      --font-body: 'Inter', sans-serif;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    ::selection {
      background: var(--gold-2);
      color: #000;
    }

    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      /* height: 100%; REMOVED to fix background seam */
    }

    body {
      min-height: 100vh;
      display: flex;
      /* FIXED: Changed from center to flex-start to prevent top clipping */
      align-items: flex-start; 
      justify-content: center;
      padding: 24px;
      font-family: var(--font-body);
      background-color: var(--bg);
      background-image: 
        radial-gradient(circle at 50% 0%, rgba(234, 179, 8, 0.15), transparent 60%),
        radial-gradient(circle at 0% 100%, rgba(161, 98, 7, 0.1), transparent 50%),
        url("data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='%23eab308' fill-opacity='0.05' font-family='serif' font-size='28'%3E%3Ctext x='5' y='25'%3E*%3C/text%3E%3Ctext x='35' y='55'%3E*%3C/text%3E%3C/g%3E%3C/svg%3E");
      background-attachment: fixed; /* FIXED: Keeps background continuous during scroll */
      color: var(--text-main);
      overflow-x: hidden;
      perspective: 1000px;
      /* Locked scrolling initially for intro */
      overflow-y: hidden;
    }

    /* Force override for any auto-detected links on mobile */
    a[href^="tel"], a[href^="sms"], a[x-apple-data-detectors] {
      color: inherit !important;
      text-decoration: none !important;
    }

    /* Keyframes */
    @keyframes shimmer {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    @keyframes twinkle {
      0%, 100% { opacity: 0.3; transform: scale(0.8); }
      50% { opacity: 1; transform: scale(1.2); }
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes overlayFadeOut {
      0%, 85% { opacity: 1; visibility: visible; }
      100% { opacity: 0; visibility: hidden; }
    }

    @keyframes introTextAnim {
      0% { opacity: 0; transform: translateY(10px) scale(0.95); }
      20% { opacity: 1; transform: translateY(0) scale(1); }
      80% { opacity: 1; transform: translateY(0) scale(1.05); }
      100% { opacity: 0; transform: translateY(-20px) scale(1.1); }
    }

    @keyframes riseUp {
      0% {
        bottom: -20px;
        transform: translateX(0) scale(0.5);
        opacity: 0;
      }
      10% {
        opacity: 1;
      }
      100% {
        bottom: 110vh;
        transform: translateX(var(--drift)) scale(1.5);
        opacity: 0;
      }
    }

    /* Overlay */
    #intro-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%; /* Fixes horizontal scrollbar issues on desktop */
      height: 100%;
      height: 100dvh; /* Fixes centering on mobile with address bars */
      background-color: var(--bg);
      z-index: 99999;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      animation: overlayFadeOut 4s ease-in-out forwards;
      touch-action: none; /* Prevents touch scrolling on the overlay */
      overflow: hidden;
      /* Removed pointer-events: none so it blocks interaction with background */
    }

    .intro-text {
      color: var(--gold-2);
      font-family: var(--font-display);
      font-size: clamp(22px, 5vw, 30px);
      font-weight: 400;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      text-align: center;
      animation: introTextAnim 4s ease-in-out forwards;
      padding: 20px;
      text-shadow: 0 0 25px rgba(234, 179, 8, 0.6);
      z-index: 10;
      position: relative;
    }

    #intro-bubbles {
      position: absolute;
      inset: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .intro-bubble {
      position: absolute;
      bottom: -20px;
      background: radial-gradient(circle at 30% 30%, #fff, var(--gold-2));
      border-radius: 50%;
      box-shadow: 0 0 10px rgba(234, 179, 8, 0.4);
      opacity: 0;
      animation: riseUp var(--duration) ease-in infinite;
      animation-delay: var(--delay);
    }

    /* Main Card */
    .card {
      position: relative;
      width: 100%;
      max-width: 560px;
      border-radius: 28px;
      /* Increased top padding to 50px to prevent Share button overlap */
      padding: 50px 28px 32px;
      /* FIXED: Added margin auto for safe vertical centering */
      margin: auto;
      background: var(--card-bg);
      border: 1px solid var(--border-gold);
      box-shadow:
        0 32px 80px rgba(0, 0, 0, 0.8),
        0 0 0 1px rgba(234, 179, 8, 0.15); 
      backdrop-filter: blur(20px); 
      -webkit-backdrop-filter: blur(20px);
      animation: fadeIn 1s ease-out 3.5s backwards;
      transition: transform 0.1s ease-out;
      transform-style: preserve-3d;
    }

    .card::before {
      content: "";
      position: absolute;
      inset: -1px;
      border-radius: inherit;
      background: conic-gradient(
        from 0deg,
        transparent 0deg,
        var(--gold-2) 45deg,
        transparent 90deg
      );
      opacity: 0.35;
      filter: blur(20px);
      animation: spin 6s linear infinite; 
      z-index: -1;
    }

    .sparkles {
      position: absolute;
      inset: 0;
      pointer-events: none;
      z-index: -1;
      overflow: hidden;
      transform: translateZ(20px);
    }

    .particle {
      position: absolute;
      border-radius: 50%;
      background: radial-gradient(circle, #fff, var(--gold-2));
      box-shadow: 0 0 6px var(--gold-2);
      animation: twinkle 3s infinite ease-in-out;
    }

    /* Particle positions - Adjusted to clear text areas */
    .p1 { width: 3px; height: 3px; top: 8%; left: 5%; animation-delay: 0s; } /* Moved away from Title */
    .p2 { width: 4px; height: 4px; top: 30%; right: 15%; animation-delay: 1s; }
    .p3 { width: 2px; height: 2px; bottom: 20%; left: 10%; animation-delay: 2s; }
    .p4 { width: 5px; height: 5px; bottom: 40%; right: 30%; animation-delay: 0.5s; }
    .p5 { width: 3px; height: 3px; top: 60%; left: 50%; animation-delay: 1.5s; }
    .p6 { width: 2px; height: 2px; top: 12%; right: 5%; animation-delay: 2.5s; } /* Moved to edge */
    .p7 { width: 4px; height: 4px; bottom: 10%; right: 10%; animation-delay: 1.2s; }
    .p8 { width: 3px; height: 3px; top: 80%; left: 30%; animation-delay: 0.8s; }
    .p9 { width: 5px; height: 5px; top: 45%; right: 5%; animation-delay: 2.2s; }
    .p10 { width: 2px; height: 2px; bottom: 5%; left: 60%; animation-delay: 1.7s; }
    .p11 { width: 4px; height: 4px; top: 5%; right: 35%; animation-delay: 0.3s; }
    .p12 { width: 3px; height: 3px; bottom: 50%; left: 5%; animation-delay: 1.9s; }
    .p13 { width: 6px; height: 6px; top: 35%; left: 85%; animation-delay: 1.1s; } /* Moved away from "That" */
    .p14 { width: 2px; height: 2px; bottom: 15%; right: 50%; animation-delay: 2.8s; }
    .p15 { width: 4px; height: 4px; top: 70%; left: 10%; animation-delay: 0.6s; }

    .header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 16px;
      margin-bottom: 24px;
      transform: translateZ(30px);
    }

    .title-block {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      align-self: flex-start;
      padding: 6px 16px; 
      border-radius: 999px;
      font-size: 13px; 
      letter-spacing: 0.12em;
      text-transform: uppercase;
      font-weight: 600;
      color: var(--gold-1);
      background: rgba(234, 179, 8, 0.15);
      border: 1px solid rgba(234, 179, 8, 0.3);
      box-shadow: 0 0 10px rgba(234, 179, 8, 0.1);
    }

    .eyebrow-dot {
      width: 8px; 
      height: 8px;
      border-radius: 50%;
      background: var(--gold-2);
      box-shadow: 0 0 8px var(--gold-2);
      animation: twinkle 2s infinite alternate;
    }

    .title {
      font-family: var(--font-display);
      font-size: clamp(26px, 4vw, 32px);
      font-weight: 700;
      letter-spacing: 0.02em;
      line-height: 1.1;
    }

    .title span.highlight {
      background: linear-gradient(
        to right,
        var(--gold-2) 20%,
        var(--gold-1) 40%,
        var(--gold-3) 60%,
        var(--gold-2) 80%
      );
      background-size: 200% auto;
      color: transparent;
      -webkit-background-clip: text;
      background-clip: text;
      animation: shimmer 3s linear infinite;
      font-style: italic;
      padding-right: 5px; 
    }

    .year-pill {
      margin-top: 4px;
      font-size: 13px;
      color: var(--text-muted);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .year-pill-dot {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #94a3b8;
    }

    .date-block {
      text-align: right;
    }

    .date-main {
      font-family: var(--font-display);
      font-size: 18px;
      letter-spacing: 0.05em;
      text-transform: uppercase;
      font-weight: 700;
      color: var(--gold-1);
      text-shadow: 0 0 10px rgba(234, 179, 8, 0.3);
    }

    .date-sub {
      font-size: 13px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    .countdown {
      margin-top: 8px;
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      font-variant-numeric: tabular-nums;
    }
    .countdown-item {
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .countdown-val {
      font-family: var(--font-display);
      font-size: 16px;
      font-weight: 700;
      color: var(--gold-2);
    }
    .countdown-label {
      font-size: 9px;
      text-transform: uppercase;
      color: var(--text-muted);
      margin-top: 2px;
    }

    .calendar-links {
      display: flex;
      justify-content: flex-end;
      gap: 12px;
      margin-top: 8px;
    }
    .cal-link {
      font-size: 11px;
      color: var(--text-muted);
      text-decoration: none;
      border-bottom: 1px dotted var(--text-muted);
      transition: color 0.2s;
    }
    .cal-link:hover {
      color: var(--gold-1);
      border-color: var(--gold-1);
    }

    .divider {
      margin: 20px 0 24px;
      height: 1px;
      background: linear-gradient(
        to right,
        transparent,
        var(--gold-3),
        transparent
      );
      position: relative;
      opacity: 0.5;
    }

    .divider::before {
      content: "";
      position: absolute;
      left: 50%;
      top: 50%;
      transform: translate(-50%, -50%);
      width: 40px;
      height: 4px;
      background: var(--gold-2);
      border-radius: 2px;
      box-shadow: 0 0 15px var(--gold-2);
    }

    .body {
      display: grid;
      grid-template-columns: 1.4fr 1.1fr;
      gap: 24px;
      transform: translateZ(10px);
    }

    .section-heading {
      font-family: var(--font-display);
      font-size: 12px;
      letter-spacing: 0.1em;
      text-transform: uppercase;
      color: var(--gold-4);
      margin-bottom: 10px;
      font-weight: 700;
    }

    .description {
      font-size: 14px;
      line-height: 1.6;
      color: #cbd5e1;
      margin-bottom: 20px;
    }

    .details-list {
      list-style: none;
      display: flex;
      flex-direction: column;
      gap: 12px;
      font-size: 13px;
    }

    .details-item {
      display: flex;
      justify-content: space-between;
      gap: 16px;
      padding-bottom: 8px;
      border-bottom: 1px dashed rgba(234, 179, 8, 0.15);
    }

    .details-item:last-child {
      border-bottom: none;
    }

    .details-label {
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      font-size: 11px;
      flex-shrink: 0;
    }

    .details-value {
      color: var(--text-main);
      font-weight: 500;
      text-align: right;
    }
    
    /* 3. Link Style for Google Maps */
    .details-value a {
      color: inherit;
      text-decoration: none;
      border-bottom: 1px dotted rgba(234, 179, 8, 0.5);
      transition: all 0.2s;
    }
    .details-value a:hover {
      color: var(--gold-2);
      border-color: var(--gold-2);
    }

    /* 4. Copy Address Button */
    .copy-btn {
      background: none;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      margin-left: 6px;
      padding: 2px;
      vertical-align: middle;
      transition: color 0.2s;
    }
    .copy-btn:hover {
      color: var(--gold-2);
    }
    .copy-btn svg {
      width: 14px;
      height: 14px;
      stroke: currentColor;
    }

    .details-note {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 16px;
      font-style: italic;
      opacity: 0.8;
    }

    .right-column {
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .host-block {
      border-radius: 20px;
      padding: 12px;
      background: rgba(234, 179, 8, 0.05);
      border: 1px solid rgba(234, 179, 8, 0.15);
      display: flex;
      align-items: center;
      gap: 12px;
      transition: background 0.3s;
    }
    
    .host-block:hover {
      background: rgba(234, 179, 8, 0.1);
    }

    .avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: 2px solid var(--gold-2);
      box-shadow: 0 0 15px rgba(234, 179, 8, 0.3);
      overflow: hidden;
      flex-shrink: 0;
    }

    .avatar img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .host-text {
      display: flex;
      flex-direction: column;
    }

    .host-label {
      font-size: 10px;
      letter-spacing: 0.15em;
      text-transform: uppercase;
      color: var(--gold-4);
    }

    .host-name {
      font-family: var(--font-display);
      font-size: 15px;
      font-weight: 700;
      color: #fff;
    }

    .actions {
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .primary-button {
      position: relative;
      border: 0;
      border-radius: 12px;
      padding: 12px 16px;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 12px;
      background: linear-gradient(135deg, var(--gold-2), var(--gold-5));
      box-shadow: 0 4px 20px rgba(170, 119, 28, 0.4);
      transition: transform 0.2s, box-shadow 0.2s;
      overflow: hidden;
      text-decoration: none;
    }

    .primary-button::after {
      content: "";
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      transition: 0.5s;
    }

    .primary-button:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 25px rgba(170, 119, 28, 0.6);
    }

    .primary-button:hover::after {
      left: 100%;
    }

    .spark {
      width: 20px;
      height: 20px;
      background: #fff;
      mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z'/%3E%3C/svg%3E") no-repeat center / contain;
      -webkit-mask: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='currentColor' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpath d='m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z'/%3E%3C/svg%3E") no-repeat center / contain;
    }

    .primary-button-label {
      display: flex;
      flex-direction: column;
      text-align: left;
    }

    .primary-main {
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      color: #fff;
      letter-spacing: 0.05em;
    }

    .primary-sub {
      font-size: 10px;
      color: rgba(255,255,255,0.9);
    }

    .secondary-button {
      width: 100%;
      background: transparent;
      border: 1px solid var(--border-gold);
      color: var(--gold-1);
      border-radius: 12px;
      padding: 10px;
      font-size: 11px;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      cursor: pointer;
      transition: all 0.2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      text-decoration: none;
    }

    .secondary-button:hover {
      background: rgba(234, 179, 8, 0.1);
      border-color: var(--gold-2);
      color: #fff;
    }

    .footer {
      margin-top: 24px;
      padding-top: 16px;
      border-top: 1px solid rgba(255,255,255,0.05);
      display: flex;
      justify-content: center;
      text-align: center;
      transform: translateZ(5px);
    }

    .footer-right {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .mini-tagline {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.15em;
      color: var(--text-muted);
    }

    .mini-tagline span {
      color: var(--gold-2);
      font-weight: 600;
    }

    .instructions {
      font-size: 10px;
      color: rgba(148, 163, 184, 0.6);
    }

    /* 5. Share Button Style */
    .share-btn-container {
      position: absolute;
      top: 14px; /* Adjusted slightly to sit nicely in the new padding */
      right: 14px;
      z-index: 20;
    }
    .share-btn {
      background: rgba(15, 23, 42, 0.6);
      border: 1px solid var(--border-gold);
      color: var(--gold-2);
      border-radius: 50%;
      width: 36px;
      height: 36px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      transition: all 0.2s ease;
      backdrop-filter: blur(4px);
    }
    .share-btn:hover {
      background: rgba(234, 179, 8, 0.2);
      transform: scale(1.1);
    }

    /* Modal Styles */
    .modal-overlay {
      position: absolute;
      inset: 0;
      background: rgba(2, 6, 23, 0.85);
      backdrop-filter: blur(8px);
      z-index: 50;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 24px;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .modal-overlay.open {
      opacity: 1;
      pointer-events: auto;
    }

    .modal-card {
      background: #0f172a;
      border: 1px solid var(--gold-3);
      border-radius: 20px;
      padding: 30px 24px;
      position: relative;
      max-width: 100%;
      box-shadow: 0 0 30px rgba(234, 179, 8, 0.15);
      transform: scale(0.95);
      transition: transform 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    }

    .modal-overlay.open .modal-card {
      transform: scale(1);
    }

    .close-btn {
      position: absolute;
      top: 12px;
      right: 12px;
      background: none;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      padding: 6px;
    }
    
    .close-btn svg {
      width: 20px;
      height: 20px;
      stroke: currentColor;
      stroke-width: 2;
    }

    .close-btn:hover {
      color: var(--gold-2);
    }

    .modal-text {
      font-size: 14px;
      line-height: 1.6;
      color: #e2e8f0;
    }
    
    .modal-text p {
      margin-bottom: 12px;
    }
    
    .modal-text strong {
      color: var(--gold-2);
      font-family: var(--font-display);
      font-weight: 700;
      text-transform: uppercase;
      font-size: 12px;
      letter-spacing: 0.05em;
    }

    @media (max-width: 640px) {
      body { padding: 16px; }
      .card { padding: 24px 20px; transform: none !important; }
      .header { flex-direction: column; gap: 12px; transform: none; }
      .date-block { text-align: left; }
      .countdown { justify-content: flex-start; }
      .calendar-links { justify-content: flex-start; }
      .body { grid-template-columns: 1fr; gap: 24px; transform: none; }
      .sparkles { transform: none; }
      /* Adjust bubbles for mobile */
      .intro-bubble { transform: scale(0.7); }
    }
  </style>
</head>

<body>
  <!-- Intro Message Overlay -->
  <div id="intro-overlay">
    <div class="intro-text">You've been cordially invited to...</div>
    <div id="intro-bubbles"></div>
  </div>

  <div class="card" id="invite-card">
    
    <!-- Share Button -->
    <div class="share-btn-container">
      <button class="share-btn" onclick="shareInvite()" title="Share Invite">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
          <circle cx="18" cy="5" r="3"></circle>
          <circle cx="6" cy="12" r="3"></circle>
          <circle cx="18" cy="19" r="3"></circle>
          <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
          <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
        </svg>
      </button>
    </div>

    <!-- Directions Modal Overlay -->
    <div id="directions-modal" class="modal-overlay" onclick="closeModal(event)">
      <div class="modal-card">
        <button class="close-btn" onclick="closeModalExplicitly('directions-modal')" aria-label="Close directions">
          <svg viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
        <div class="modal-text">
          <p>Take the entrance to the Aspire North Apartments that takes you to the back of the complex, not the leasing office entrance.</p>
          <br>
          <p>Immediately park in one of the spaces behind the building on your right.</p>
          <br>
          <p>Text Cash or Andrew that you're here, and we'll come let you in.</p>
        </div>
      </div>
    </div>

    <!-- Dress Code Modal Overlay -->
    <div id="dress-code-modal" class="modal-overlay" onclick="closeModal(event)">
      <div class="modal-card">
        <button class="close-btn" onclick="closeModalExplicitly('dress-code-modal')" aria-label="Close dress code">
          <svg viewBox="0 0 24 24" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg>
        </button>
        <div class="modal-text">
          <p><strong>Ladies:</strong><br>
          Cocktail or party attire encouraged. Sequins, metallics, champagne tones, or gold accents are perfect. Dressy but fun. Whatever makes you feel great ringing in the New Year.</p>
          <br>
          <p><strong>Gentlemen:</strong><br>
          No suits required. A nice button-down with slacks or dark jeans is perfect. Feel free to add a champagne, metallic, or gold touchâ€”shirt, shoes, or accessory.</p>
        </div>
      </div>
    </div>

    <div class="sparkles">
      <div class="particle p1"></div>
      <div class="particle p2"></div>
      <div class="particle p3"></div>
      <div class="particle p4"></div>
      <div class="particle p5"></div>
      <div class="particle p6"></div>
      <div class="particle p7"></div>
      <!-- Added more sparkles -->
      <div class="particle p8"></div>
      <div class="particle p9"></div>
      <div class="particle p10"></div>
      <div class="particle p11"></div>
      <div class="particle p12"></div>
      <div class="particle p13"></div>
      <div class="particle p14"></div>
      <div class="particle p15"></div>
    </div>

    <header class="header">
      <div class="title-block">
        <div class="eyebrow">
          <span class="eyebrow-dot"></span>
          New Yearâ€™s Eve
        </div>
        <h1 class="title">
          <span class="highlight">All That Glitters Is Gold</span>
        </h1>
        <div class="year-pill">
          <span class="year-pill-dot"></span>
          Ringing in 2026 together
        </div>
      </div>

      <div class="date-block">
        <div class="date-main">Tuesday Â· December 31</div>
        <div class="date-sub">Doors at 8:00 PM Â· Countdown at midnight</div>
        
        <!-- Live Countdown -->
        <div id="countdown" class="countdown">
           <div class="countdown-item">
             <span class="countdown-val" id="d">00</span>
             <span class="countdown-label">Days</span>
           </div>
           <div class="countdown-item">
             <span class="countdown-val" id="h">00</span>
             <span class="countdown-label">Hrs</span>
           </div>
           <div class="countdown-item">
             <span class="countdown-val" id="m">00</span>
             <span class="countdown-label">Min</span>
           </div>
           <div class="countdown-item">
             <span class="countdown-val" id="s">00</span>
             <span class="countdown-label">Sec</span>
           </div>
        </div>

        <!-- Calendar Links -->
        <div class="calendar-links">
           <a href="#" onclick="downloadICS(event)" class="cal-link">Apple Cal</a>
           <a href="https://calendar.google.com/calendar/render?action=TEMPLATE&text=Andrew+%26+Cash's+NYE+Party&dates=20251231T200000/20260101T020000&details=All+That+Glitters+Is+Gold.+Ring+in+2026+with+us!&location=13130+Pond+Springs+Rd,+%233312,+Austin,+TX+78729" target="_blank" class="cal-link">Google Cal</a>
        </div>
      </div>
    </header>

    <div class="divider"></div>

    <main class="body">
      <section>
        <div class="section-heading">A message from your hosts</div>
        <p class="description">
          Weâ€™d love to spend the last moments of the year with you. Come hang out for an evening of 
          games, drinks, great music, and yelling on the rooftop patio when the ball drops! 
        </p>

        <ul class="details-list">
          <li class="details-item">
            <span class="details-label">Location</span>
            <span class="details-value">
              <a href="https://www.google.com/maps/search/?api=1&query=13130+Pond+Springs+Rd,+%233312,+Austin,+TX+78729" target="_blank">
                13130 Pond Springs Rd, #3312<br>Austin, TX 78729
              </a>
              <button class="copy-btn" onclick="copyAddress()" title="Copy Address">
                 <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="9" y="9" width="13" height="13" rx="2" ry="2"></rect><path d="M5 15H4a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9a2 2 0 0 1 2 2v1"></path></svg>
              </button>
            </span>
          </li>
          <li class="details-item">
            <span class="details-label">Time</span>
            <span class="details-value">8:00 PM until after midnight</span>
          </li>
          <li class="details-item">
            <span class="details-label">Food & drinks</span>
            <span class="details-value">Snacks & some drinks provided<br>BYOB welcome</span>
          </li>
        </ul>

        <p class="details-note">
          If you want to bring something (snack, drink, game), go for itâ€”but zero pressure.
        </p>
      </section>

      <aside class="right-column">
        <div class="host-block">
          <div class="avatar">
            <img src="hosts.jpg" alt="Andrew & Cash">
          </div>
          <div class="host-text">
            <div class="host-label">Hosts</div>
            <div class="host-name">Andrew & Cash</div>
          </div>
        </div>

        <div class="actions">
          <a href="sms:9258901507,5126569229?body=Can't wait for NYE!" class="primary-button" id="rsvp-btn">
            <span class="spark"></span>
            <span class="primary-button-label">
              <span class="primary-main">RSVP via text</span>
              <span class="primary-sub">Text us if youâ€™re in or thinking about it</span>
            </span>
          </a>

          <!-- Directions button -->
          <button class="secondary-button" onclick="openModal('directions-modal')">
            Directions for when you get here
          </button>

          <!-- Dress Code button -->
          <button class="secondary-button" onclick="openModal('dress-code-modal')">
            Dress Code & Details
          </button>

          <!-- Spotify Playlist button -->
          <a href="https://open.spotify.com/playlist/3CuUJoAgqOovB0IDBXruTR?si=H2K0VldjRSmVv3E4dnw5eg&pt=6af1a1fe25ee2d9befc079442c9faa85&pi=g_r--mnuR_qnn" target="_blank" class="secondary-button">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
              <path d="M12 0C5.4 0 0 5.4 0 12s5.4 12 12 12 12-5.4 12-12S18.66 0 12 0zm5.521 17.34c-.24.359-.66.48-1.021.24-2.82-1.74-6.36-2.101-10.561-1.141-.418.122-.779-.179-.899-.539-.12-.421.18-.78.54-.9 4.56-1.021 8.52-.6 11.64 1.32.42.18.479.659.301 1.02zm1.44-3.3c-.301.42-.841.6-1.262.3-3.239-1.98-8.159-2.58-11.939-1.38-.479.12-1.02-.12-1.14-.6-.12-.48.12-1.021.6-1.141 4.439-1.38 9.839-.72 13.559 1.56.42.18.6.72.18 1.26zm.12-3.36C15.222 8.4 8.822 8.16 5.162 9.241c-.6.18-1.2-.181-1.38-.721-.18-.601.18-1.2.72-1.38 4.14-1.26 11.22-.96 14.759 1.02.541.3.721 1.02.421 1.56-.3.48-1.02.66-1.56.36z"/>
            </svg>
            Add to Spotify Playlist
          </a>
        </div>
      </aside>
    </main>

    <footer class="footer">
      <div class="footer-right">
        <div class="mini-tagline">
          Small crew Â· <span>good vibes only</span>
        </div>
        <div class="instructions">
          Screenshot or share this link if someone asks for details.
        </div>
      </div>
    </footer>
  </div>

  <script>
    function openModal(modalId) {
      document.getElementById(modalId).classList.add('open');
    }

    function closeModal(event) {
      if (event.target.classList.contains('modal-overlay')) {
        event.target.classList.remove('open');
      }
    }

    function closeModalExplicitly(modalId) {
      document.getElementById(modalId).classList.remove('open');
    }

    // 1. Intro Bubbles
    document.addEventListener('DOMContentLoaded', () => {
      const bubbleContainer = document.getElementById('intro-bubbles');
      const bubbleCount = 50; 

      for (let i = 0; i < bubbleCount; i++) {
        const bubble = document.createElement('div');
        bubble.classList.add('intro-bubble');
        const size = Math.random() * 8 + 4; 
        const left = Math.random() * 100; 
        const duration = Math.random() * 2 + 1.5; 
        const delay = Math.random() * 2; 
        const drift = (Math.random() * 100) - 50; 

        bubble.style.width = `${size}px`;
        bubble.style.height = `${size}px`;
        bubble.style.left = `${left}%`;
        bubble.style.setProperty('--duration', `${duration}s`);
        bubble.style.setProperty('--delay', `${delay}s`);
        bubble.style.setProperty('--drift', `${drift}px`);
        bubbleContainer.appendChild(bubble);
      }

      // Unlock body scroll after intro finishes (4s)
      setTimeout(() => {
        document.body.style.overflowY = 'auto'; 
      }, 4000);
    });

    // 2. Countdown Timer
    function updateCountdown() {
      const nye = new Date("January 1, 2026 00:00:00").getTime();
      const now = new Date().getTime();
      const diff = nye - now;

      if (diff > 0) {
        const d = Math.floor(diff / (1000 * 60 * 60 * 24));
        const h = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
        const m = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
        const s = Math.floor((diff % (1000 * 60)) / 1000);

        document.getElementById("d").innerText = d < 10 ? "0" + d : d;
        document.getElementById("h").innerText = h < 10 ? "0" + h : h;
        document.getElementById("m").innerText = m < 10 ? "0" + m : m;
        document.getElementById("s").innerText = s < 10 ? "0" + s : s;
      }
    }
    setInterval(updateCountdown, 1000);
    updateCountdown();

    // 3. 3D Tilt Effect - Refactored for smooth lerping
    let targetX = 0, targetY = 0;
    let currentX = 0, currentY = 0;

    document.addEventListener('mousemove', (e) => {
        if (window.innerWidth <= 640) return;
        const x = (e.clientX / window.innerWidth - 0.5) * 2; // -1 to 1
        const y = (e.clientY / window.innerHeight - 0.5) * 2; // -1 to 1
        
        targetX = y * -5; // Max rotation degrees (inverted for natural feel)
        targetY = x * 5;
    });

    function animateTilt() {
        if (window.innerWidth > 640) {
            // Lerp (Linear Interpolation) for smoothness
            // 0.1 is the speed factor (lower = smoother/slower)
            currentX += (targetX - currentX) * 0.1;
            currentY += (targetY - currentY) * 0.1;
            
            const card = document.getElementById('invite-card');
            if(card) {
                card.style.transform = `rotateX(${currentX.toFixed(2)}deg) rotateY(${currentY.toFixed(2)}deg)`;
            }
        }
        requestAnimationFrame(animateTilt);
    }
    animateTilt();

    // 4. Confetti on RSVP
    document.getElementById('rsvp-btn').addEventListener('click', (e) => {
      // Don't prevent default, let the SMS link work, but trigger confetti
      confetti({
        particleCount: 100,
        spread: 70,
        origin: { y: 0.6 },
        colors: ['#eab308', '#fefce8', '#bf953f']
      });
    });

    // 5. Download ICS file
    function downloadICS(e) {
      e.preventDefault();
      const icsContent = `BEGIN:VCALENDAR
VERSION:2.0
PRODID:-//AndrewAndCash//NYEParty//EN
BEGIN:VEVENT
UID:${Date.now()}@nye2025.party
DTSTAMP:${new Date().toISOString().replace(/[-:]/g, '').split('.')[0]}Z
DTSTART:20251231T200000
DTEND:20260101T020000
SUMMARY:Andrew & Cash's NYE Party
DESCRIPTION:All That Glitters Is Gold. Ring in 2026 with us!
LOCATION:13130 Pond Springs Rd, #3312, Austin, TX 78729
END:VEVENT
END:VCALENDAR`;

      const blob = new Blob([icsContent], { type: 'text/calendar;charset=utf-8' });
      const link = document.createElement('a');
      link.href = window.URL.createObjectURL(blob);
      link.setAttribute('download', 'nye_party_2025.ics');
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }
    
    // 6. Share Functionality
    function shareInvite() {
      if (navigator.share) {
        navigator.share({
          title: "New Year's Eve Party 2025",
          text: "Join Andrew & Cash for NYE: All That Glitters Is Gold!",
          url: window.location.href
        }).catch(err => console.log('Error sharing:', err));
      } else {
        // Fallback: Copy link
        const dummy = document.createElement('input');
        document.body.appendChild(dummy);
        dummy.value = window.location.href;
        dummy.select();
        document.execCommand('copy');
        document.body.removeChild(dummy);
        alert('Link copied to clipboard!');
      }
    }
    
    // 7. Copy Address Function
    function copyAddress() {
      const address = "13130 Pond Springs Rd, #3312, Austin, TX 78729";
      const dummy = document.createElement('textarea');
      document.body.appendChild(dummy);
      dummy.value = address;
      dummy.select();
      document.execCommand('copy');
      document.body.removeChild(dummy);
      alert('Address copied to clipboard!');
    }
  </script>
</body>
</html>
